Help: 

        # Sekvens = record.seq
                # Alignment = sekvens + cigar


    # tempdic_minus = dic_lastpos[last_pos]  # M1 M2
        # top = sum(dic_base_forward['T'], tempdic_minus['A'])
            # lower = sum(top, dic_base_forward['C'], tempdic_minus['G'])
                # M_value = top/float(lower)
                    # print(M_value)

        # Starter med:
                  # slut_positioner = {}

        # Hvis + streng

            # 1. Er de foerste 2 baser TpG eller CpG i sekvensen (.seq)?

            # 2. Er de to baser i FASTA filen CpG i alignment?

            # 3. Er de foerste 2 baser TpG eller CpG i alignment?

            # 3. Samme position som sidste record, eller ny position?

            # 3a. Samme pos = tael det som N1 eller N2

            # 3b. Anden pos = Udregne Ms for sidste pos; nulstil taelling; 3a.
                        #                 Hent M1/M2 fra slut_positioner:
                                    #                   slut_positioner.pop(last_pos, [0, 0])

        # Hvis - streng

            # 1. Er de foerste 2 baser CpG eller CpA i sekvensen (.seq)?

            # 2. Udregne slut-position via cigar-streng

            # 3. Er de sidste to baser i FASTA filen CpG?

            # 4. Er de sidste 2 baser CpA eller CpG?

            # 5. Henter vores [M1, M2] fra slut_positioner med pos som noegle

            # 6. Incrementer M1 eller M2

        # Naar ikke flere records; udregn Ms for sidste position







GCTGTCGTATGATGCCATACCAGAGTCAGGTTGGAAAGTAAGCCACATTATACAGCGTTAACCTA  from bam file. 22:16051240. this is on the forward strand. code: 0x0. THis strand looks the same in tview. uppercase

tatattttggagtaaaatactttcattttccttcagagtctgctgtcgta from bam file: 0x10 22:16051199. uncapitalized letters in tview  but shown in same direction as 0x0  same direction


from Bio.Seq import Seq
>>> my = Seq('ggtggcgggcgcctgtagtcccagctactcgggaggctgaggcagaagaatggcgtgaacccaggaagcacagctggcagtgagcccagatca')  # one can see it is the reverse strand as lowercase
>>> my.reverse_complement()
SSeq('tgatctgggctcactgccagctgtgcttcctgggttcacgccattcttctgcct...acc', Alphabet())
>>> my1 = Seq('gggaggctgaggcagaagaatggcgtgaacccaggaagcagagctggcagtgagcccagatcg') # one can see it is the reverse strand as lowercase. but this one ends on cg, so not deaminated
>>> my1.reverse_complement()
Seq('cgatctgggctcactgccagctctgcttcctgggttcacgccattcttctgcct...ccc', Alphabet())
